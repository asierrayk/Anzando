#:import Factory kivy.factory.Factory

<MenuButton@Button>:
    font_size: '32dp'

<MainMenuScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: '30dp'
        padding: '30dp'
        MenuButton:
            text: 'Anzan'
            on_release: root.manager.current = 'anzan_menu'
        MenuButton:
            text: 'Day of week'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'Settings'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'Quit'
            on_release: app.stop()

<NotImplementedPopup@Popup>:
    size_hint: .5, .5
    auto_dismiss: False
    title: 'Information'
    title_size: '30dp'
    Button:
        text: 'This feature is not implemented yet'
        text_size: root.width, None
        font_size: '20dp'
        halign: 'center'
        on_release: root.dismiss()

####### ANZAN #######

<AnzanResult>:
    orientation: 'vertical'
    Button:
        size_hint_y: .7
        background_color: 0, 0, 0, 1
        text: root.mark
        font_size: '72dp'
        on_release: root.parent.new_exercise()
    BoxLayout:
        size_hint_y: .1
        Label:
            text: "Result"
            font_size: '30dp'
        Label:
            text: str(root.result)
            font_size: '30dp'
    BoxLayout:
        size_hint_y: .1
        Label:
            text: "Your answer"
            font_size: '30dp'
        Label:
            text: str(root.answer)
            font_size: '30dp'
    BoxLayout:
        size_hint_y: .1
        Button:
            font_size: '20dp'
            text: 'back'
            on_release: app.root.current = 'anzan_menu'
        Button:
            font_size: '20dp'
            text: 'next'
            on_release: root.parent.new_exercise()
        Button:
            font_size: '20dp'
            text: 'retry'
            on_release: root.parent.repeat_exercise()


<KeyboardButton@Button>:
    font_size: '32dp'

<AnzanKeyboard>:
    orientation: 'vertical'
    answer: answer_display
    BoxLayout:
        size_hint_y: .2
        Label:
            id: answer_display
            text: root.answer_text
            font_size: '72dp'
            size_hint_x: .8
            multiline: False
        Button:
            text: '<-'
            size_hint_x: .2
            on_press: root.clear()
    GridLayout:
        size_hint_y: .8
        cols: 3
        spacing: '10dp'
        padding: '10dp'
        KeyboardButton:
            text: '1'
            on_press: root.key_press(self.text)
        KeyboardButton:
            text: '2'
            on_press: root.key_press(self.text)
        KeyboardButton:
            text: '3'
            on_press: root.key_press(self.text)
        KeyboardButton:
            text: '4'
            on_press: root.key_press(self.text)
        KeyboardButton:
            text: '5'
            on_press: root.key_press(self.text)
        KeyboardButton:
            text: '6'
            on_press: root.key_press(self.text)
        KeyboardButton:
            text: '7'
            on_press: root.key_press(self.text)
        KeyboardButton:
            text: '8'
            on_press: root.key_press(self.text)
        KeyboardButton:
            text: '9'
            on_press: root.key_press(self.text)
        KeyboardButton:
            text: '-'
            on_press: root.minus()
        KeyboardButton:
            text: '0'
            on_press: root.key_press(self.text)
        KeyboardButton:
            text: 'ok'
            on_press: root.ok()

<AnzanMenuScreen>:
    GridLayout:
        cols: 2
        spacing: '30dp'
        padding: '30dp'
        MenuButton:
            text: 'Flash'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'List'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'Manual'
            on_press: root.manager.current = 'play_manual_anzan'
        MenuButton:
            text: 'Drag'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'Endurance'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'Multiple'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'Audio'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'Exam'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'Back'
            on_release: root.manager.current = 'main_menu'


# MANUAL #
<AnzanManual>:
    orientation: 'vertical'
    Button:
        id: number_display
        size_hint_y: 1
        background_color: 0, 0, 0, 1
        font_size: '200dp'
        text: str(root.current_number)
        on_press: root.next_number()

<AnzanManualRoot>:

<AnzanManualScreen@Screen>:
    name: 'play_manual_anzan'
    AnzanManualRoot:

# FLASH #
<AnzanFlash>:


<AnzanFlashScreen>:
    BoxLayout:
        AnzanFlash:
                

####### GUESS THE DAY #######

<DateMenuScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: '30dp'
        padding: '30dp'
        MenuButton:
            text: 'Play'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'Back'
            on_release: root.manager.current = 'main_menu'

<SettingsMenuScreen>:
    BoxLayout:
        orientation: 'vertical'
        spacing: '30dp'
        padding: '30dp'
        MenuButton:
            text: 'My settings button'
            on_release: Factory.NotImplementedPopup().open()
        MenuButton:
            text: 'Back to menu'
            on_release: root.manager.current = 'main_menu'
